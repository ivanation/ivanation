<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="../../css/fonts.css">
    <title>Housing Dataset</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"> </script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"> </script> -->
    <style>
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: "Segoe UI Bold", Arial, Helvetica, sans-serif
        }
    </style>
</head>

<body class="w3-xlarge">
    <div class="w3-top">
        <div class="w3-bar w3-padding w3-card w3-grey w3-text-white" style="letter-spacing:4px;">
            <div class="w3-content">
                <span class="w3-bar-item cu" id="back">Housign Price Prediction</span>
            </div>
        </div>
    </div>
    <div class="w3-container w3-content" style="padding-top: 100px;">

        <div class="w3-center">
            <!-- -->
                <iframe title="Housing" width="948" height="612" src="https://app.powerbi.com/view?r=eyJrIjoiZmIyMGU1NDAtYmQ4OC00MjAzLWFhYjMtYTI4NjNjZDk5NGI2IiwidCI6Ijg1ODdlOTVkLTU2ZWItNGU4NC1hMTcxLWFmM2RhODBiNGY0ZiJ9" frameborder="0" allowFullScreen="true"></iframe>


            <br>

            <div class="w3-card w3-container w3-medium w3-padding-32" style="margin-top: 25px;">
                <div class="w3-row-padding w3-left-align">
                    <div class="w3-col m6 s6 l6">
                        <label>PetalLength</label>
                        <input class="w3-input w3-border" type="text" placeholder="1.4" id="a" value="4.30">
                        <br>
                        <label>SepalLength</label>
                        <input class="w3-input w3-border" type="text" placeholder="5.1" id="b" value="6.4">
                    </div>
                    <div class="w3-col m6 s6 l6">
                        <label>PetalWith</label>
                        <input class="w3-input w3-border" type="text" placeholder="0.2" id="c" value="1.3">
                        <br>
                        <label>SepalWith</label>
                        <input class="w3-input w3-border" type="text" placeholder="3.5" id="d" value="2.9">
                    </div>
                </div>
                <div style="padding-top: 25px;">
                    <button id="boton" class="w3-button w3-round w3-black"
                        style="background-color: rgb(74, 88, 138) !important;" onclick="doIris()">Predecir</button>
                </div>
            </div>

        </div>

        <br>
        <div id="respuesta" class="w3-large"></div>
        <br>

        <h1>Visualizando Dataset Housign Price Prediction con Power BI y Modelo de Machine Learning</h1>
        <div class="w3-text-grey">
            <p>Me complace compartir con ustedes otro experimento que he llevado a cabo recientemente. En esta ocasión, he realizado un análisis exhaustivo de una base de datos de precios de casas utilizando el conjunto de datos "Housing Price Prediction" disponible en Kaggle. Durante el análisis, he aplicado técnicas descriptivas, prescriptivas y predictivas para obtener información valiosa sobre los datos. Como de costumbre, he utilizado herramientas de visualización como Power BI y de aprendizaje automático como TensorFlow.</p>
        </div>
        <h1>Análisis Descriptivo</h1>
        <div class="w3-text-grey">
            <p>En primer lugar, he comenzado analizando el conjunto de datos utilizando las herramientas de visualización de Power BI. Mi objetivo ha sido crear una visualización limpia y minimalista que sea fácil de entender y que permita identificar patrones y tendencias de manera clara. Como ejemplo inicial, he utilizado una simple gráfica de barras para representar las cantidades de datos, ya que consideré que esta era una forma clara y efectiva de presentar la información en esta etapa del análisis.</p>
        </div>
        <h1>Análisis Prescriptivo</h1>
        <div class="w3-text-grey">
            <p>En esta segunda etapa me concentré en detectar un insight que debería tener toda empresa, que es, el producto más vendido y los más rentables. Suponiendo que esta base de datos, son las ventas de una empresa inmobiliaria.</p>
            <p>Entonces lo primero que quise saber es cuales eran las características de las casas de menor precio, las de mayor precio, y las más vendidas.</p>
            <p>Power BI ha sido una herramienta muy útil durante mi análisis, ya que me ha permitido obtener de manera eficiente información relevante del conjunto de datos. En este sentido, gracias a las herramientas de Power BI, he podido obtener los valores del Top 10, Botton 10 y el promedio de las casas más vendidas, lo que me ha permitido tener una idea más clara de los datos y de las tendencias generales del mercado.</p>
            <p>Posteriormente, procedí a ordenar los datos por ciudad y me di cuenta de que las primeras 10 ciudades representan el 70% de los ingresos, siendo Seattle la ciudad con mayor venta de casas. Por esta razón, decidí profundizar en el análisis de las características de las casas en Seattle, obteniendo como resultado que estas casas se asemejan a las casas más vendidas en promedio. En Seattle, el precio promedio de estas casas oscila entre 550 y 580 mil dólares, con 2 baños, 3 habitaciones y 2 pisos en promedio.</p>
            <p>Basado en los resultados de mi análisis de datos, mi recomendación para el equipo de ventas sería buscar casas con características similares a las que se han vendido más en el pasado, particularmente en la ciudad de Seattle donde la demanda es alta. Estas casas tienen un precio promedio de entre 550 y 580 mil dólares, cuentan con 2 baños, 3 habitaciones y 2 pisos en promedio, lo que sugiere que estas características son altamente valoradas por los compradores potenciales. Al enfocar los esfuerzos de venta en casas que cumplan con estas características, es más probable que el equipo de ventas tenga éxito en su trabajo.</p>
        </div>
        <h1>Análisis Predictivo</h1>
        <div class="w3-text-grey">
            <p>Como última etapa de este experimento, se desarrolló una herramienta de predicción de precios de las casas basada en sus características. El primer paso fue visualizar los datos utilizando Power BI, lo que nos permitió observar la relación entre los diferentes campos y el precio de las casas. En particular, se prestaron atención a las relaciones más notables.</p>
            <p>Al analizar estas relaciones, pudimos identificar patrones y tendencias que nos ayudaron a desarrollar un modelo de predicción de precios preciso y confiable.</p>
            <p>Después de aplicar la regresión lineal a los datos, encontramos que el modelo no es exacto ni preciso (lo cual fue una pequeña decepción). Sin embargo, al comparar los resultados reales con los resultados obtenidos por el modelo, encontramos que la diferencia promedio es de alrededor del 5%. Esto significa que en algunos casos, el precio estimado por el modelo es significativamente más alto o más bajo que el precio real, mientras que en otros casos, el precio estimado es bastante cercano al precio real. Sin embargo, en general, la diferencia promedio del 5% es aceptable y puede ser útil para obtener una idea aproximada del precio de una casa.</p>
            <p>En resumen, hemos utilizado una combinación de Power BI para visualizar los datos y TensorFlow para desarrollar el modelo y realizar la predicción. El resultado es una herramienta totalmente funcional que puede ser útil para predecir el precio de una casa de manera aproximada.</p>
        </div>
        

    </div>
    <br><br>

    <script>

        let model

        async function loadModel() {
            model = await tf.loadLayersModel('https://ivanation.github.io/art/iris/iris_modelo/model.json');
        }
        loadModel();

        async function doIris() {

            // take values
            let a = Number(document.getElementById('a').value);
            let b = Number(document.getElementById('b').value);
            let c = Number(document.getElementById('c').value);
            let d = Number(document.getElementById('d').value);
            let elemento = document.getElementById('boton');
            let res = document.getElementById('respuesta');
            let arr = [b, d, a, c];
            console.log(arr);

            elemento.classList.add('w3-disabled');

            const input = tf.tensor2d([b, d, a, c], [1, 4]);
            const prediction = model.predict(input);
            const arrp = await prediction.array();
            const flatArrp = arrp.flat();
            const valorMaximo = Math.max(...flatArrp);
            const posicionMaximo = flatArrp.indexOf(valorMaximo);
            console.log(valorMaximo, posicionMaximo);
            console.log(arrp);

            tipo = ""
            if (posicionMaximo == 0) {
                tipo = "Iris Setosa"
            } else if (posicionMaximo == 1) {
                tipo = "Iris Versicolor"
            } else if (posicionMaximo == 2) {
                tipo = "Iris Virginica"
            }

            res.innerHTML = '<div class="w3-panel w3-card w3-green w3-display-container"><span onclick="this.parentElement.style.display=' + "'none'" +
                '" class="w3-button w3-large w3-display-topright">&times;</span><h3>Predicción</h3>' +
                '<p>' + tipo + ' , Probabilidad: ' + valorMaximo.toFixed(2) + '</p></div>'
            elemento.classList.remove('w3-disabled');

        }

    </script>

</body>

</html>