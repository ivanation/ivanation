<!DOCTYPE html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Lista</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    h1{font-size:24px}
    .lp-blue{background-color:#003366;color:#FFFFFF;}
    .lp-blue-light{background-color:#81acd9;color:#FFFFFF;}
    .lp-t-blue{color:#003366}
    #target{border:none; width:200px; border:1px solid #ccc;}
    #target:focus{border:0 !important;}
    @media (min-width:600px){
        #view_lista{
            padding:0.01em 16px;
            margin-bottom: 16px;
            margin-top: 68px;
        }
    }
    @media (min-width:993px){
        #myfooter{
            margin-left:250px;
        }
    }
    .lp-lista{
        padding:8px 16px;
        border-bottom: 1px solid #ccc;
    }

</style>
</head>

<body style="background-color:#eff3f6">

<!-- Top barra -->
<div id="myTopBar" class="w3-bar w3-top lp-blue w3-card-4 w3-xlarge" style="z-index:4">
    <input class="w3-bar-item w3-imput w3-medium w3-round w3-animate-left" type="search" id="target" placeholder="Buscar" style="margin-top: 8px; margin-left: 10px; min-width:250px; line-height: 18px;">
    <button class="w3-btn w3-bar-item w3-right" onclick="topBarLista()"><i class="fa fa-times"></i></button>
</div>

<!-- Sidebar/menu -->
<nav id="mySidebar" class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top w3-card w3-animate-left" style="z-index: 3; width: 250px; display: none; margin-top: 52px;">
    <div class="w3-container" style="border-bottom: 1px solid #d4d4d4;">
        <i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
        <h3 class="w3-wide"><b>LOGO</b></h3>
    </div>
    <div class="w3-padding w3-text-grey">
        <a href="#" class="w3-bar-item w3-button w3-light-grey btn-menu">Bienvenida</a>
        <a href="#" class="w3-bar-item w3-button btn-menu">Saludos</a>
        <a href="#" class="w3-bar-item w3-button btn-menu">Plurales</a>
        <a href="#" class="w3-bar-item w3-button btn-menu">Primeras Frases 1</a>
        <a href="#" class="w3-bar-item w3-button btn-menu">Presente Simple 1</a>
    </div>
</nav>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor: pointer; display: none;" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div id="mycontent" class="w3-main" style="margin-left:250px; margin-top:52px;">

    <div id="view_lista">
    
        <div id="list-cont">
            
            <div class=" w3-hide w3-margin-bottom" style="max-width: 800px; margin: 0 auto">
                <ul class="w3-navbar w3-white w3-card-2">
                    <li><span style="display:block; padding:8px;">Ordenar por:</span></li>
                    <li><a href="#" class="sort" data-sort="name">nombre</a></li>
                    <li><a href="#" class="sort" data-sort="sector">sector</a></li>
                    <li><a href="#" class="sort" data-sort="born">n√∫mero</a></li>
                    <li><input class="search w3-input" type="search" placeholder="Buscar"></li>
                </ul>
            </div>
            
            <div id="user_list" class="w3-white w3-card-4" style="max-width: 800px; margin: 0 auto">
                <div class="lp-lista w3-row">
                    <div class="w3-col s6">
                        <span>Liset Rojas</span><br>
                        <span>0412-3345678</span><br>
                        <span>Centro</span>
                    </div>
                    <div class="w3-col s6">
                        <span class="w3-right w3-xlarge" style="position: relative; bottom: -15px;"><i class="fa fa-arrow-circle-right w3-xxlarge lp-t-blue" aria-hidden="true"></i></span>
                    </div>
                </div>
                <div class="lp-lista w3-row">
                    <div class="w3-col s6">
                        <span>Liset Rojas</span><br>
                        <span>0412-3345678</span><br>
                        <span>Centro</span>
                    </div>
                    <div class="w3-col s6">
                        <span class="w3-right w3-xlarge" style="position: relative; bottom: -15px;"><i class="fa fa-arrow-circle-right w3-xxlarge lp-t-blue" aria-hidden="true"></i></span>
                    </div>
                </div>
                <div class="lp-lista w3-row">
                    <div class="w3-col s6">
                        <span>Liset Rojas</span><br>
                        <span>0412-3345678</span><br>
                        <span>Centro</span>
                    </div>
                    <div class="w3-col s6">
                        <span class="w3-right w3-xlarge" style="position: relative; bottom: -15px;"><i class="fa fa-arrow-circle-right w3-xxlarge lp-t-blue" aria-hidden="true"></i></span>
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>

<footer id="myfooter" class="w3-container w3-padding-24 lp-blue w3-center">
    <h4>Ir arriba</h4>
    <p>Luz y Paz - Cocorote</p>

    <div style="position:relative;bottom:100px;z-index:1;" class="w3-tooltip w3-right">
        <span class="w3-text w3-padding w3-black w3-hide-small">Arriba</span>   
        <a class="w3-btn lp-blue" href="#"><span class="w3-xlarge"><i class="fa fa-chevron-circle-up"></i></span></a>
    </div>
</footer>

 	


<script>

//////////////////// top bar /////////////////////

function topBarLista() {
    document.getElementById("myTopBar").innerHTML=`<button class="w3-btn w3-hide-large w3-bar-item" onclick="w3_open();"><i class="fa fa-bars"></i></button>
    <button onclick="topBarSearch()" class="w3-btn w3-bar-item w3-right"><i class="fa fa-search"></i></button>`;
}

function topBarSearch() {
    document.getElementById("myTopBar").innerHTML=`<input type="search" id="target" onkeyup="searcher()" class="w3-bar-item w3-imput w3-medium w3-round w3-animate-left" placeholder="Buscar" style="margin-top: 8px; margin-left: 10px; min-width:250px; line-height: 18px;">
    <button class="w3-btn w3-bar-item w3-right" onclick="searchFinish()"><i class="fa fa-times"></i></button>`;
}

topBarLista()

/////////////////////// buscador /////////////////////

function searchFinish() {
    const searchResults = document.querySelectorAll(".lp-lista");
    searchResults.forEach(function(boton){
        boton.classList.remove('w3-hide');
    });
    topBarLista();
}

function searcher() {
    const searchInput = document.getElementById("target");
    const searchResults = document.querySelectorAll(".lp-lista");
    const searchTerm = searchInput.value.toLowerCase();
    searchResults.forEach(function(boton) {
        boton.classList.add('w3-hide');
        const text = boton.textContent.toLowerCase();
        if (text.indexOf(searchTerm) >= 0) {
            boton.classList.remove('w3-hide');
        }
    });
}

/////////////////////// zona ///////////////////////////

let zonas;

fetch("zonas.json").then(response => response.json()).then(data => {
    zonas = data
});

//////////////////// lista de usuarios /////////////////////

fetch("users.json").then(response => response.json()).then(data => {
    const div = document.getElementById("user_list");
    div.innerHTML = `
        ${data.map((word, i) => `
            <div class="lp-lista w3-row">
                <div class="w3-col s6">
                    <span>${word[0]}</span><br>
                    <span>${word[1]}</span><br>
                    <span>${zonas[word[2]]}</span>
                </div>
                <div class="w3-col s6">
                    <span class="w3-right w3-xlarge" style="position: relative; bottom: -18px;"><i class="fa fa-chevron-right w3-xlarge lp-t-blue" aria-hidden="true"></i></span>
                </div>
            </div>
       `).join("")}`;
});

//////////////////// menu navegacion /////////////////////

function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
}

</script>
</body>
</html>
